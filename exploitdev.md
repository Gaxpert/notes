
***
title: ExploitDev
date: 2020-04-20 14:41:46+01:00
author: Gaxpert
***


# ExploitDev

Pipe command to vulnerable program
```sh
./victim `python -c "print('a'*500)"`
```


## Getting root using libc
We need:
* Determine address of system()
* Determine address of /bin/sh
* Find address of exit() to exit cleanly

Steps:
* Fill the vulnerable buffer up to the return address
* Overwrite the return address with the address of system()
* Follow system() with exit()
* Append the address of /bin/sh

### Syscalls
There are two common ways of executing syscalls
* Using the C library wrapper **libc**
* Executing the syscall directly in assembly by loading the arguments into registers and calling a software interrupt.

Syscalls in linux are accomplished via software interrupts and called with the **int 0x80** instruction. The proccess works as:
1. The specific syscall number is loaded into **EAX**
1. Arguments to the syscall function are placed in other registers
1. Instruction **int 0x80** is executed
1. The CPU switches to kernel mode
1. syscall function is executed


